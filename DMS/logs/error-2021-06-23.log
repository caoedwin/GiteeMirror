[2021-06-23 14:42:49,407] [log.py:228] [log:log_response] [ERROR]- Internal Server Error: /login/
Traceback (most recent call last):
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 124, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python372\mecheck\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\djangoproject\DMS\app01\views.py", line 76, in login
    init_permission(request, user_obj)  # 调用init_permission，初始化权限
  File "C:\djangoproject\DMS\service\init_permission.py", line 10, in init_permission
    print(user_obj.role.Meta)
AttributeError: 'ManyRelatedManager' object has no attribute 'Meta'
[2021-06-23 14:42:49,409] [basehttp.py:154] [basehttp:log_message] [ERROR]- "POST /login/ HTTP/1.1" 500 83349
[2021-06-23 14:45:28,092] [log.py:228] [log:log_response] [ERROR]- Internal Server Error: /login/
Traceback (most recent call last):
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 124, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python372\mecheck\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\djangoproject\DMS\app01\views.py", line 76, in login
    init_permission(request, user_obj)  # 调用init_permission，初始化权限
  File "C:\djangoproject\DMS\service\init_permission.py", line 11, in init_permission
    for i in user_obj.role:
TypeError: 'ManyRelatedManager' object is not iterable
[2021-06-23 14:45:28,094] [basehttp.py:154] [basehttp:log_message] [ERROR]- "POST /login/ HTTP/1.1" 500 83126
[2021-06-23 14:45:30,301] [log.py:228] [log:log_response] [ERROR]- Internal Server Error: /login/
Traceback (most recent call last):
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 124, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python372\mecheck\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\djangoproject\DMS\app01\views.py", line 76, in login
    init_permission(request, user_obj)  # 调用init_permission，初始化权限
  File "C:\djangoproject\DMS\service\init_permission.py", line 11, in init_permission
    for i in user_obj.role:
TypeError: 'ManyRelatedManager' object is not iterable
[2021-06-23 14:45:30,302] [basehttp.py:154] [basehttp:log_message] [ERROR]- "POST /login/ HTTP/1.1" 500 83126
[2021-06-23 14:47:06,980] [log.py:228] [log:log_response] [ERROR]- Internal Server Error: /login/
Traceback (most recent call last):
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 124, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python372\mecheck\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\djangoproject\DMS\app01\views.py", line 76, in login
    init_permission(request, user_obj)  # 调用init_permission，初始化权限
  File "C:\djangoproject\DMS\service\init_permission.py", line 11, in init_permission
    for i in user_obj.role.values:
TypeError: 'method' object is not iterable
[2021-06-23 14:47:06,984] [basehttp.py:154] [basehttp:log_message] [ERROR]- "POST /login/ HTTP/1.1" 500 83092
[2021-06-23 15:58:02,903] [log.py:228] [log:log_response] [ERROR]- Internal Server Error: /login/
Traceback (most recent call last):
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\sql\query.py", line 1735, in add_fields
    join_info = self.setup_joins(name.split(LOOKUP_SEP), opts, alias, allow_many=allow_m2m)
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\sql\query.py", line 1473, in setup_joins
    names[:pivot], opts, allow_many, fail_on_missing=True,
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\sql\query.py", line 1389, in names_to_path
    "Choices are: %s" % (name, ", ".join(available)))
django.core.exceptions.FieldError: Cannot resolve keyword 'perms_id' into field. Choices are: id, name, perms, userinfo

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python372\mecheck\lib\site-packages\django\core\handlers\base.py", line 124, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python372\mecheck\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\djangoproject\DMS\app01\views.py", line 76, in login
    init_permission(request, user_obj)  # 调用init_permission，初始化权限
  File "C:\djangoproject\DMS\service\init_permission.py", line 14, in init_permission
    'perms__menu_id', 'perms_id').distinct()
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\query.py", line 750, in values
    clone = self._values(*fields, **expressions)
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\query.py", line 745, in _values
    clone.query.set_values(fields)
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\sql\query.py", line 1987, in set_values
    self.add_fields(field_names, True)
  File "C:\Python372\mecheck\lib\site-packages\django\db\models\sql\query.py", line 1758, in add_fields
    "Choices are: %s" % (name, ", ".join(names)))
django.core.exceptions.FieldError: Cannot resolve keyword 'perms_id' into field. Choices are: id, name, perms, userinfo
[2021-06-23 15:58:02,905] [basehttp.py:154] [basehttp:log_message] [ERROR]- "POST /login/ HTTP/1.1" 500 128653
